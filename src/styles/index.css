@import "tailwindcss";

@layer base {
  body {
    @apply bg-gray-50 text-gray-900 antialiased;
  }

  html, body, #root {
    @apply h-full w-full overflow-hidden;
  }

  /* iOS-specific viewport fixes */
  @supports (-webkit-touch-callout: none) {
    html, body {
      height: -webkit-fill-available;
    }
  }

  /* Safe area padding for iOS notches */
  .safe-area-padding {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Mobile-specific optimizations */
  @media (max-width: 768px) {
    html, body {
      /* Prevent overscroll bounce on iOS */
      overscroll-behavior: none;
      /* Prevent accidental zoom on double-tap */
      touch-action: pan-x pan-y;
      /* Smooth scrolling on mobile */
      -webkit-overflow-scrolling: touch;
    }

    /* Prevent text selection during touch navigation */
    canvas {
      -webkit-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
    }

    /* Improve tap target sizes for accessibility */
    button, a {
      min-width: 44px;
      min-height: 44px;
    }
  }

  /* Modal scrolling fixes for iOS */
  .fixed.overflow-y-auto {
    /* Enable momentum scrolling on iOS */
    -webkit-overflow-scrolling: touch;
    /* Contain scroll within modal */
    overscroll-behavior: contain;
  }

  /* Ensure modal content is scrollable */
  @supports (-webkit-touch-callout: none) {
    .fixed.overflow-y-auto {
      /* Fix iOS Safari scrolling issue */
      position: fixed;
      overflow-y: scroll !important;
      -webkit-overflow-scrolling: touch;
    }
  }
}
