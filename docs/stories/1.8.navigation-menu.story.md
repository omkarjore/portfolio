# Story 1.8: Basic Navigation Menu Structure

## Status
Ready for Review

## Story
**As a** visitor,
**I want** to access a navigation menu to find additional portfolio information,
**so that** I can view traditional portfolio sections (About, Skills, Contact, etc.).

## Acceptance Criteria

1. `src/components/layout/Navigation.jsx` component created
2. Hamburger menu icon or floating navigation button visible in top-right corner
3. Clicking navigation button opens menu overlay or sidebar
4. Menu displays links to traditional sections: About Me, Skills, Education, Awards, Contact
5. Menu has "Return to 3D Experience" link (closes menu, returns to 3D scene)
6. Menu styled with Tailwind CSS, visually distinct from 3D scene
7. Menu is always accessible (fixed position, high z-index)
8. Menu links are placeholder/non-functional in this story (routing implemented in Epic 2)
9. Close menu button (X icon) or click-outside-to-close functionality implemented
10. Menu open/close transitions smoothly (slide or fade animation)

## Tasks / Subtasks

- [x] Create AppContext for navigation state (AC: 3, 5)
  - [x] Create file `src/context/AppContext.tsx`
  - [x] Define AppState interface with menuOpen and currentView
  - [x] Create AppProvider with useState for state management
  - [x] Implement setMenuOpen, toggleMenu, setCurrentView functions
  - [x] Export useAppContext custom hook
  - [x] Add error handling for hook usage outside provider

- [x] Add AppProvider to application (AC: 3)
  - [x] Import AppProvider in main.tsx
  - [x] Wrap App with AppProvider
  - [x] Verify context is accessible throughout app

- [x] Create Navigation component (AC: 1, 2, 7)
  - [x] Create file `src/components/layout/Navigation.tsx`
  - [x] Set up component structure with TypeScript
  - [x] Use useAppContext to access menu state
  - [x] Position component with fixed positioning (top-right)
  - [x] Set high z-index to appear above 3D scene
  - [x] Export Navigation component

- [x] Implement hamburger menu button (AC: 2, 3, 7)
  - [x] Create hamburger icon (three horizontal lines)
  - [x] Position in top-right corner (fixed position)
  - [x] Add onClick handler to toggle menu
  - [x] Style with Tailwind CSS (visible against 3D scene)
  - [x] Ensure always visible (high z-index)

- [x] Create menu overlay/sidebar (AC: 3, 4, 5, 6, 9)
  - [x] Render menu conditionally based on menuOpen state
  - [x] Create sidebar design (e.g., right side slide-in)
  - [x] Add semi-transparent background overlay
  - [x] Display menu links: About Me, Skills, Education, Awards, Contact
  - [x] Add "Return to 3D Experience" link at top or bottom
  - [x] Add close button (X icon) in corner
  - [x] Style with Tailwind CSS (visually distinct from 3D)
  - [x] Use appropriate colors and spacing

- [x] Implement placeholder menu links (AC: 4, 5, 8)
  - [x] Create button/link elements for each section
  - [x] Note that links are non-functional (Epic 2 will add routing)
  - [x] Add onClick handlers that console.log (for testing)
  - [x] Style links with hover effects
  - [x] "Return to 3D Experience" closes menu only

- [x] Add close functionality (AC: 9)
  - [x] Close button (X icon) calls toggleMenu
  - [x] Click outside menu closes it (overlay onClick)
  - [x] Prevent close when clicking menu content (stopPropagation)
  - [x] Optional: Escape key closes menu

- [x] Implement smooth transitions (AC: 10)
  - [x] Use Framer Motion for menu animations
  - [x] Slide in from right (translateX) or fade in
  - [x] Slide out on close or fade out
  - [x] Animate background overlay (fade)
  - [x] Set appropriate transition duration (0.3-0.5s)

- [x] Integrate Navigation into App (AC: 7)
  - [x] Import Navigation in App.tsx
  - [x] Render Navigation component
  - [x] Verify menu appears above 3D scene
  - [x] Test toggle functionality
  - [x] Test close mechanisms (button, outside click)

- [x] Test navigation menu functionality (AC: 2, 3, 6, 7, 9, 10)
  - [x] Verify hamburger button always visible
  - [x] Test menu opens on button click
  - [x] Check all menu links display correctly
  - [x] Test close button functionality
  - [x] Test click-outside-to-close
  - [x] Verify smooth slide/fade animations
  - [x] Test "Return to 3D Experience" closes menu
  - [x] Check menu styled distinctly from 3D scene
  - [x] Verify menu accessible from anywhere

## Dev Notes

### Previous Story Insights
[Source: Stories 1.1 through 1.7 Completion]

**Story 1.1 established:**
- Vite + React + TypeScript project
- Framer Motion installed for animations

**Story 1.5 established:**
- ProjectContext pattern for global state
- Context + custom hook pattern

**Story 1.7 established:**
- Loading screen complete
- App.tsx structure

**Key Learnings for Story 1.8:**
- Need AppContext for menu and view state
- Navigation component must be always accessible
- Links are placeholders (routing in Epic 2)
- Menu must overlay 3D scene with high z-index

### AppContext for Navigation State
[Source: docs/ui-architecture.md#State Management]

**AppContext Implementation:**
```typescript
// src/context/AppContext.tsx

import React, { createContext, useContext, useState, ReactNode } from 'react';

// Define state shape
interface AppState {
  menuOpen: boolean;
  currentView: 'home' | 'about' | 'skills' | 'education' | 'awards' | 'contact';
}

// Define context value (state + updaters)
interface AppContextValue extends AppState {
  setMenuOpen: (open: boolean) => void;
  setCurrentView: (view: AppState['currentView']) => void;
  toggleMenu: () => void;
}

// Create context
const AppContext = createContext<AppContextValue | undefined>(undefined);

// Provider component
interface AppProviderProps {
  children: ReactNode;
}

export const AppProvider: React.FC<AppProviderProps> = ({ children }) => {
  const [menuOpen, setMenuOpen] = useState(false);
  const [currentView, setCurrentView] = useState<AppState['currentView']>('home');

  const toggleMenu = () => setMenuOpen(prev => !prev);

  const value: AppContextValue = {
    menuOpen,
    currentView,
    setMenuOpen,
    setCurrentView,
    toggleMenu,
  };

  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;
};

// Custom hook for consuming context
export const useAppContext = (): AppContextValue => {
  const context = useContext(AppContext);
  if (!context) {
    throw new Error('useAppContext must be used within AppProvider');
  }
  return context;
};
```

**Setup in main.tsx:**
```typescript
import { AppProvider } from './context/AppContext';
import { ProjectProvider } from './context/ProjectContext';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <AppProvider>
      <ProjectProvider>
        <App />
      </ProjectProvider>
    </AppProvider>
  </React.StrictMode>
);
```

### Navigation Component Structure
[Source: docs/ui-architecture.md#Component Standards]

**File Location:** `src/components/layout/Navigation.tsx`

**Component Template:**
```typescript
// src/components/layout/Navigation.tsx

import React from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { useAppContext } from '../../context/AppContext';

export const Navigation: React.FC = () => {
  const { menuOpen, toggleMenu } = useAppContext();

  return (
    <>
      {/* Hamburger Menu Button */}
      <button
        onClick={toggleMenu}
        className="fixed top-6 right-6 z-50 p-3 bg-white/10 backdrop-blur-md rounded-lg hover:bg-white/20 transition-colors"
        aria-label="Toggle menu"
      >
        <div className="space-y-2">
          <div className="w-6 h-0.5 bg-white" />
          <div className="w-6 h-0.5 bg-white" />
          <div className="w-6 h-0.5 bg-white" />
        </div>
      </button>

      {/* Menu Overlay */}
      <AnimatePresence>
        {menuOpen && (
          <>
            {/* Background Overlay */}
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              onClick={toggleMenu}
              className="fixed inset-0 z-40 bg-black/50"
            />

            {/* Menu Sidebar */}
            <motion.div
              initial={{ x: '100%' }}
              animate={{ x: 0 }}
              exit={{ x: '100%' }}
              transition={{ type: 'tween', duration: 0.3 }}
              className="fixed top-0 right-0 bottom-0 z-50 w-80 bg-gray-900 shadow-2xl"
              onClick={(e) => e.stopPropagation()}
            >
              {/* Close Button */}
              <button
                onClick={toggleMenu}
                className="absolute top-6 right-6 text-gray-400 hover:text-white transition-colors"
                aria-label="Close menu"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>

              {/* Menu Content */}
              <div className="flex flex-col h-full p-8 pt-20">
                <h2 className="text-2xl font-bold text-white mb-8">Menu</h2>

                {/* Navigation Links */}
                <nav className="flex flex-col space-y-4">
                  <button
                    onClick={() => console.log('Navigate to About')}
                    className="text-left text-lg text-gray-300 hover:text-cyan-400 transition-colors"
                  >
                    About Me
                  </button>
                  <button
                    onClick={() => console.log('Navigate to Skills')}
                    className="text-left text-lg text-gray-300 hover:text-cyan-400 transition-colors"
                  >
                    Skills
                  </button>
                  <button
                    onClick={() => console.log('Navigate to Education')}
                    className="text-left text-lg text-gray-300 hover:text-cyan-400 transition-colors"
                  >
                    Education
                  </button>
                  <button
                    onClick={() => console.log('Navigate to Awards')}
                    className="text-left text-lg text-gray-300 hover:text-cyan-400 transition-colors"
                  >
                    Awards
                  </button>
                  <button
                    onClick={() => console.log('Navigate to Contact')}
                    className="text-left text-lg text-gray-300 hover:text-cyan-400 transition-colors"
                  >
                    Contact
                  </button>
                </nav>

                {/* Return to 3D Link */}
                <div className="mt-auto pt-8 border-t border-gray-700">
                  <button
                    onClick={toggleMenu}
                    className="text-left text-lg text-cyan-400 hover:text-cyan-300 transition-colors flex items-center"
                  >
                    <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    Return to 3D Experience
                  </button>
                </div>
              </div>
            </motion.div>
          </>
        )}
      </AnimatePresence>
    </>
  );
};
```

### Hamburger Icon Styles

**Three-Line Hamburger:**
```typescript
<div className="space-y-2">
  <div className="w-6 h-0.5 bg-white" />
  <div className="w-6 h-0.5 bg-white" />
  <div className="w-6 h-0.5 bg-white" />
</div>
```

**Alternative: Animated Hamburger (X transform):**
```typescript
// More complex - transforms to X when open
// Defer to post-MVP if time constrained
```

### Menu Animation Options

**Option 1: Slide from Right (Recommended):**
```typescript
<motion.div
  initial={{ x: '100%' }}
  animate={{ x: 0 }}
  exit={{ x: '100%' }}
  transition={{ type: 'tween', duration: 0.3 }}
>
```

**Option 2: Fade In:**
```typescript
<motion.div
  initial={{ opacity: 0 }}
  animate={{ opacity: 1 }}
  exit={{ opacity: 0 }}
  transition={{ duration: 0.3 }}
>
```

**Option 3: Scale + Fade:**
```typescript
<motion.div
  initial={{ opacity: 0, scale: 0.95 }}
  animate={{ opacity: 1, scale: 1 }}
  exit={{ opacity: 0, scale: 0.95 }}
  transition={{ duration: 0.3 }}
>
```

### Click-Outside-to-Close Pattern
[Source: Story 1.5 - ProjectModal]

**Implementation:**
```typescript
{/* Background overlay - clicking closes menu */}
<motion.div onClick={toggleMenu} className="fixed inset-0 bg-black/50" />

{/* Menu content - stopPropagation prevents close */}
<motion.div onClick={(e) => e.stopPropagation()}>
  {/* Menu content */}
</motion.div>
```

### Backdrop Blur Effect
[Source: docs/ui-architecture.md#Styling Guidelines]

**Glass Morphism for Button:**
```typescript
className="bg-white/10 backdrop-blur-md"
```

**Tailwind Config (if not already present):**
- `backdrop-blur-md` built into Tailwind 3.4+
- No additional configuration needed

### Menu Positioning and z-index

**Hamburger Button:**
- `fixed top-6 right-6`: Top-right corner
- `z-50`: Above 3D scene, below menu overlay

**Menu Components:**
- Background overlay: `z-40`
- Menu sidebar: `z-50`
- Ensures menu appears above everything

### Placeholder Links (Non-Functional)
[Source: AC 8]

**For Epic 1:**
```typescript
<button onClick={() => console.log('Navigate to About')}>
  About Me
</button>
```

**For Epic 2 (Future):**
```typescript
<button onClick={() => {
  setCurrentView('about');
  toggleMenu();
}}>
  About Me
</button>
```

### Integration with App.tsx
[Source: docs/ui-architecture.md#Routing]

**Add Navigation to App:**
```typescript
// src/App.tsx

import { Navigation } from './components/layout/Navigation';

return (
  <div className="relative w-full h-screen overflow-hidden">
    <Navigation />  {/* Always rendered, fixed position */}

    {!loading && (
      <>
        <Scene />
        <ProjectModal />
      </>
    )}
  </div>
);
```

### Theme Colors for Menu
[Source: docs/ui-architecture.md#Tailwind Configuration]

**Menu Colors:**
- Background: `bg-gray-900` (dark sidebar)
- Text: `text-white` (title), `text-gray-300` (links)
- Hover: `hover:text-cyan-400`
- Accent: `text-cyan-400` (Return to 3D link)
- Border: `border-gray-700`
- Button: `bg-white/10 backdrop-blur-md`

### Testing
**Testing Standards:**
[Source: docs/ui-architecture.md#Testing Requirements]

- Manual testing only for MVP
- Test hamburger button visibility
- Test menu open/close functionality
- Verify smooth animations
- Test all close mechanisms
- Check menu styling and layout
- Verify placeholder links
- No automated tests required

**Key Test Points:**
1. Hamburger button visible in top-right
2. Clicking button opens menu
3. Menu slides in smoothly from right
4. All section links display correctly
5. Clicking links logs to console (placeholder)
6. Close button (X) closes menu
7. Clicking outside menu closes it
8. "Return to 3D Experience" closes menu
9. Menu styled distinctly (dark background)
10. Menu appears above 3D scene
11. Smooth slide/fade animations
12. No console errors

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-10-31 | 1.0 | Initial story creation | Bob (Scrum Master) |
| 2025-10-31 | 1.1 | Story implementation completed | James (Dev Agent) |

---

## Dev Agent Record

### Agent Model Used
claude-sonnet-4-5-20250929

### Debug Log References
None

### Completion Notes List
- Created AppContext with navigation state management (menuOpen, currentView)
- Implemented AppProvider with toggleMenu, setMenuOpen, setCurrentView functions
- Added useAppContext custom hook with error handling
- Added AppProvider to main.tsx wrapping ProjectProvider
- Created Navigation component with hamburger button (fixed top-right, z-50)
- Implemented hamburger icon with three horizontal lines (white on dark background)
- Added menu overlay with slide-in animation from right (Framer Motion)
- Created sidebar menu (w-80, bg-gray-900, right-aligned)
- Added semi-transparent background overlay (bg-black/50 with backdrop-blur)
- Implemented menu links: About Me, Skills, Education, Awards, Contact
- Added "Return to 3D Experience" link with left arrow icon
- Implemented close button (X icon) in top-right of menu
- Added click-outside-to-close functionality with stopPropagation
- Implemented Escape key to close menu
- Menu slides in/out with smooth transitions (0.3s duration)
- Background overlay fades in/out smoothly
- Placeholder links use console.log for testing
- Styled with dark theme (gray-900 sidebar, cyan-400 accents)
- Menu items have hover effects (hover:text-cyan-400)
- Menu positioned with high z-index (z-50 sidebar, z-40 overlay)
- Navigation integrated into App.tsx
- Production build successful in 5.52s with no errors
- Linting passes with no errors
- Dev server running successfully with HMR

### File List
**Created:**
- `src/context/AppContext.tsx` - Navigation state management context
- `src/components/layout/Navigation.tsx` - Navigation menu component with hamburger button

**Modified:**
- `src/main.tsx` - Added AppProvider wrapping
- `src/App.tsx` - Added Navigation component

---

## QA Results
_To be filled by QA Agent_
